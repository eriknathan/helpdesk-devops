{% extends 'base.html' %}{% block title %}{{ team.name }} — HelpDesk DevOps{% endblock %}{% block content %}<div class="p-6 lg:p-8"><div class="mb-6">{% if is_admin_view %}<a href="{% url 'teams:admin_list' %}" class="text-sm text-violet-600 hover:text-violet-800 font-medium transition-colors duration-200">← Voltar para Times (Admin)</a>{% else %}<a href="{% url 'teams:list' %}" class="text-sm text-violet-600 hover:text-violet-800 font-medium transition-colors duration-200">← Voltar para Times</a>{% endif %}</div><div class="bg-white rounded-xl shadow-sm border border-slate-200/60 overflow-hidden mb-6"><div class="bg-gradient-to-r {% if team.level == 'N1' %}from-violet-600 to-purple-600{% else %}from-amber-500 to-orange-500{% endif %} px-6 py-6"><div class="flex items-center justify-between"><div class="flex items-center space-x-4"><h1 class="text-2xl font-bold text-white">{{ team.name }}</h1><span class="px-2.5 py-0.5 text-xs font-medium rounded-full bg-white/20 text-white">{{ team.get_level_display }}</span></div>{% if is_admin_view %}<div class="flex items-center space-x-2"><a href="{% url 'teams:admin_edit' team.pk %}" class="px-4 py-2 bg-white/20 text-white text-sm font-medium rounded-lg hover:bg-white/30 transition-colors duration-200">Editar</a><form method="post" action="{% url 'teams:admin_delete' team.pk %}" onsubmit="return confirm('Tem certeza que deseja excluir este time?')">{% csrf_token %}<button type="submit" class="px-4 py-2 bg-rose-500/80 text-white text-sm font-medium rounded-lg hover:bg-rose-600 transition-colors duration-200">Excluir</button></form></div>{% endif %} </div><p class="text-sm text-white/80 mt-2">Criado em {{ team.created_at|date:'d/m/Y' }}</p></div><div class="p-6"><p class="text-sm text-slate-600">{{ team.description|default:'Sem descrição' }}</p></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><div class="bg-white rounded-xl shadow-sm border border-slate-200/60 overflow-hidden"><div class="px-6 py-4 border-b border-slate-200 flex justify-between items-center"><h2 class="text-lg font-semibold text-slate-900">Membros do Time</h2><span class="text-xs font-medium text-slate-500">{{ members.count }} membro{{ members.count|pluralize }}</span></div>{% if members %}<table class="w-full text-sm text-left"><thead class="bg-slate-50 border-b border-slate-200"><tr><th class="px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wide">Nome</th><th class="px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wide">E-mail</th><th class="px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wide">Perfil</th> {% if is_admin_view %}<th class="px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wide">Ações</th> {% endif %} </tr></thead><tbody class="divide-y divide-slate-100">{% for member in members %}<tr class="hover:bg-slate-50 transition-colors duration-150"><td class="px-6 py-4 text-slate-900 font-medium">{{ member.user.full_name|default:member.user.email }}</td><td class="px-6 py-4 text-slate-600">{{ member.user.email }}</td><td class="px-6 py-4"><span class="px-2.5 py-0.5 text-xs font-medium rounded-full {% if member.user.is_admin %}bg-violet-100 text-violet-700{% else %}bg-sky-100 text-sky-700{% endif %}">{{ member.user.get_role_display }}</span></td>{% if is_admin_view %}<td class="px-6 py-4"><form method="post" action="{% url 'teams:member_remove' team.pk member.user.pk %}" onsubmit="return confirm('Remover {{ member.user.first_name }} do time?')">{% csrf_token %}<button type="submit" class="text-rose-600 hover:text-rose-800 text-xs font-medium">Remover</button></form></td>{% endif %} </tr>{% endfor %}</tbody></table>{% else %}<div class="text-center py-12"><p class="text-slate-500 text-sm">Nenhum membro neste time.</p></div>{% endif %} </div></div>{% if is_admin_view and add_member_form %}<div class="lg:col-span-1"><div class="bg-white rounded-xl shadow-sm border border-slate-200/60 overflow-hidden sticky top-6"><div class="px-6 py-4 border-b border-slate-200 bg-slate-50"><h2 class="text-sm font-semibold text-slate-900 uppercase tracking-wide">Adicionar Membro</h2></div><div class="p-6"><form method="post" action="{% url 'teams:member_add' team.pk %}" class="space-y-4">{% csrf_token %} <div><label for="id_user" class="block text-xs font-medium text-slate-700 mb-1">Selecione o Usuário</label>{{ add_member_form.user }}{% if add_member_form.user.errors %}<p class="text-rose-600 text-xs mt-1">{{ add_member_form.user.errors.0 }}</p>{% endif %} </div><button type="submit" class="w-full px-4 py-2 bg-violet-600 text-white text-sm font-medium rounded-lg shadow-sm hover:bg-violet-700 transition-all duration-200">Adicionar ao Time</button></form></div></div></div>{% endif %} </div></div>{% endblock %}
